# 2018苏州大学复试题目

## 题目

从文件input.txt中读取2万个二进制整数，每个整数长度为4字节。从2万个数中求一个最大子集，子集中任意两个数不是倍数关系或没有1以外的公约数。求出最大子集及其个数，并将子集排序（禁止使用函数库qsort、sort排序），并按照下面格式输出到output.txt文件中

输出格式说明：

第一行为子集元素个数

第二行开始为子集元素，每个元素间用制表符隔开，每5个元素换行。

```
95
2       3       5       7       11
13      17      19      23      29
31      37      41      43      47
53      59      61      67      71
73      79      83      89      97
101     103     107     109     113
127     131     137     139     149
151     157     163     167     173
179     181     191     193     197
199     211     223     227     229
233     239     241     251     257
263     269     271     277     281
283     293     307     311     313
317     331     337     347     349
353     359     367     373     379
383     389     397     401     409
419     421     431     433     439
443     449     457     461     463
467     479     487     491     499
```

注：样例并非最终结果

## 题解

### 简评

2018的题目和2013年的题目一样，稍微有一点难度，设置了一些陷阱，但由于评测数据以及评测方式较为低级，对题目意图真正理解了的话就和2013的题目一样十分容易，否则就要下一些功夫了。18年原题没有，全靠回忆，测试用例是自己编的，接近样例&答案，如有错误，希望指证。

### 题目陷阱

0. 题目最后说明样例并非最终结果，~~从样例中可以看出，似乎所有质数都是子集~~，所以样例只能进行参考，切勿当成最后结果。实际运算结果中并未有3、5、7这些元素


1. 从读取的文件中可以看到数据其实是已排序的，范围是[2, 500]，故即使不排序，按序处理数据也能得出结果，但不排序会扣分。
2. 输出最后使用的是制表符，不是空格或者固定位数输出。

### 解题思路

#### 解法一

0. 任意两个数不是倍数关系或没有1以外的公约数 == 两个数的最大公约数是1

1. 选择子集技巧：

  0. 假设选了A，就不能选B和C，那么子集一定不是最大，必须用B和C代替元素A。

  1. 上述情况什么时候能发生呢，比如A=6，B=2, C=3，这时才有可能。那么子集优先加入小元素一定比大元素好。其他情况一样可以得出相同结论。

2. 由于数据范围小，可以不用设置质因子集，直接暴力枚举子集序列即可。

#### 解法二

解法二是考完试听考生说的，显然，这种解法是中了题目的陷阱，稍微提高了代码的难度。

0. 将集合中所有质数先加入子集A和质因子集B。
1. 将集合中元素依次求质因子集C，所求质因子集C和B无交集，就将元素加入子集A，将集合C加入集合B。

### 技巧

- 排序直接写简单的、顺手的，选择、冒泡都是不二之选，堆排、快排也都看时间和喜好。